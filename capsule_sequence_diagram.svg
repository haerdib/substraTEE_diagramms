<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1507px" height="1038px" viewBox="-0.5 -0.5 1507 1038" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2021-07-05T15:42:34.617Z&quot; agent=&quot;5.0 (Windows)&quot; etag=&quot;zvp338zqtxm4sU28idgN&quot; version=&quot;14.8.3&quot; type=&quot;github&quot;&gt;&lt;diagram id=&quot;xHuUZGyOh4_NPQFmpUWD&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" resource="https://app.diagrams.net/#Hhaerdib%2FsubstraTEE_diagramms%2Fmain%2Fcapsule_sequence_diagram.svg"><defs/><g><path d="M 740 576 L 740 1006" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 945 426 L 1005 426 L 1005 441 L 995 456 L 945 456 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1005 426 L 1155 426 L 1155 576 L 945 576 L 945 456" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 441px; margin-left: 946px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div>for every</div><div>block<br /></div></div></div></div></foreignObject><text x="975" y="445" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">for every...</text></switch></g><path d="M 235 170 L 235 140" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><ellipse cx="235" cy="23.5" rx="7.5" ry="7.5" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 235 31 L 235 56 M 235 36 L 220 36 M 235 36 L 250 36 M 235 56 L 220 76 M 235 56 L 250 76" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 83px; margin-left: 235px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">Alice</div></div></div></foreignObject><text x="235" y="95" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Alice</text></switch></g><path d="M 369 761 L 242.24 761" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 250.12 756.5 L 241.12 761 L 250.12 765.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 758px; margin-left: 310px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">send(Ok(OrderID))</div></div></div></foreignObject><text x="310" y="758" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">send(Ok(OrderID))</text></switch></g><path d="M 440 1016 L 440 6" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 419.5 11 L 419.5 21 L 339.5 21 L 339.5 31.5 L 320.5 16 L 339.5 0.5 L 339.5 11 Z" fill="none" stroke="#000000" stroke-linejoin="round" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 26px; margin-left: 380px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">untrusted side</div></div></div></foreignObject><text x="380" y="30" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">untrusted side</text></switch></g><path d="M 460.5 21 L 460.5 11 L 530.5 11 L 530.5 0.5 L 549.5 16 L 530.5 31.5 L 530.5 21 Z" fill="none" stroke="#000000" stroke-linejoin="round" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 26px; margin-left: 490px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">trusted side</div></div></div></foreignObject><text x="490" y="30" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">trusted side</text></switch></g><rect x="324" y="56" width="100" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 374 96 L 374 1006" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 76px; margin-left: 325px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div>worker-api-direct</div></div></div></div></foreignObject><text x="374" y="80" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">worker-api-direct</text></switch></g><rect x="369" y="406" width="10" height="360" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 379 716 L 404 716 L 404 738 L 387.12 738" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 380.12 738 L 387.12 734.5 L 387.12 741.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 728px; margin-left: 408px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span style="background-color: rgb(255 , 255 , 255)">decode json</span></div></div></div></foreignObject><text x="408" y="731" fill="#000000" font-family="Helvetica" font-size="11px">decode json</text></switch></g><rect x="460" y="56" width="100" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 510 96 L 510 1006" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 76px; margin-left: 461px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div>worker-api-direct<br />IoHandler<br /></div></div></div></div></foreignObject><text x="510" y="80" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">worker-api-direc...</text></switch></g><rect x="590" y="56" width="100" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 640 96 L 640 1006" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 76px; margin-left: 591px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">KeyShare</div></div></div></foreignObject><text x="640" y="80" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">KeyShare</text></switch></g><rect x="635" y="516" width="10" height="170" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 645 540 L 665 540 L 665 562 L 653.12 562" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 646.12 562 L 653.12 558.5 L 653.12 565.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 552px; margin-left: 669px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">sign(shards)</div></div></div></foreignObject><text x="669" y="555" fill="#000000" font-family="Helvetica" font-size="11px">sign(shards)</text></switch></g><rect x="720" y="56" width="100" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 770 96 L 770 996" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 76px; margin-left: 721px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">IO (SgxFs)</div></div></div></foreignObject><text x="770" y="80" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">IO (SgxFs)</text></switch></g><rect x="765" y="606" width="10" height="340" fill="#ffffff" stroke="#000000" pointer-events="all"/><rect x="505" y="416" width="10" height="290" fill="#ffffff" stroke="#000000" pointer-events="all"/><rect x="230" y="106" width="10" height="890" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 235 1016 L 235 996" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><rect x="960" y="56" width="100" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 1010 96 L 1010 996" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 76px; margin-left: 961px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">enclave<br />&amp; chain relay</div></div></div></foreignObject><text x="1010" y="80" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">enclave...</text></switch></g><rect x="1280" y="56" width="100" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 1330 96 L 1330 996" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 76px; margin-left: 1281px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Ternoa Node</div></div></div></foreignObject><text x="1330" y="80" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Ternoa Node</text></switch></g><rect x="1325" y="116" width="10" height="870" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 1335 286 L 1360 286 L 1360 306 L 1343.12 306" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1336.12 306 L 1343.12 302.5 L 1343.12 309.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 296px; margin-left: 1364px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">NFT::create(who, file_path)</div></div></div></foreignObject><text x="1364" y="299" fill="#000000" font-family="Helvetica" font-size="11px">NFT::create(who, file_path)</text></switch></g><path d="M 1335 326 L 1360 326 L 1360 346 L 1343.12 346" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1336.12 346 L 1343.12 342.5 L 1343.12 349.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 336px; margin-left: 1364px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">deposit event</div></div></div></foreignObject><text x="1364" y="339" fill="#000000" font-family="Helvetica" font-size="11px">deposit event</text></switch></g><path d="M 1335 366 L 1360 366 L 1360 386 L 1343.12 386" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1336.12 386 L 1343.12 382.5 L 1343.12 389.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 376px; margin-left: 1364px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">New Block</div></div></div></foreignObject><text x="1364" y="379" fill="#000000" font-family="Helvetica" font-size="11px">New Block</text></switch></g><path d="M 505 696 L 490 696 Q 480 696 470 696 L 381.24 696" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 389.12 691.5 L 380.12 696 L 389.12 700.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 693px; margin-left: 442px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">JsonString { <br /><div>Encoded(</div><div>Result(OrderID, Error)</div><div>)}<br /></div></div></div></div></foreignObject><text x="442" y="693" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">JsonString {...</text></switch></g><path d="M 1080 1036 L 1080 6" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1280.5 21 L 1280.5 11 L 1350.5 11 L 1350.5 0.5 L 1369.5 16 L 1350.5 31.5 L 1350.5 21 Z" fill="none" stroke="#000000" stroke-linejoin="round" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 26px; margin-left: 1310px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">ternoa chain</div></div></div></foreignObject><text x="1310" y="30" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">ternoa chain</text></switch></g><path d="M 1069.5 11 L 1069.5 21 L 989.5 21 L 989.5 31.5 L 970.5 16 L 989.5 0.5 L 989.5 11 Z" fill="none" stroke="#000000" stroke-linejoin="round" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 26px; margin-left: 1034px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">trusted side</div></div></div></foreignObject><text x="1034" y="30" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">trusted side</text></switch></g><rect x="840" y="56" width="100" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 890 96 L 890 996" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 76px; margin-left: 841px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div>NFT registry</div><div>(encrypted storage)<br /></div></div></div></div></foreignObject><text x="890" y="80" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">NFT registry...</text></switch></g><rect x="885" y="526" width="10" height="440" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 895 556 L 925 556 L 925 576 L 903.12 576" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 896.12 576 L 903.12 572.5 L 903.12 579.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 566px; margin-left: 929px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; "><div>update_nft</div><div>_memory</div><div>_registry<br />(nft_update)<br /></div></div></div></div></foreignObject><text x="929" y="569" fill="#000000" font-family="Helvetica" font-size="11px">update_nft...</text></switch></g><path d="M 240 160 L 270 160 L 270 182 L 248.12 182" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 241.12 182 L 248.12 178.5 L 248.12 185.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 172px; margin-left: 274px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><div>encrypt</div><div>(key, file_path)</div></div></div></div></foreignObject><text x="274" y="176" fill="#000000" font-family="Helvetica" font-size="11px">encrypt...</text></switch></g><path d="M 240 210 L 270 210 L 270 232 L 248.12 232" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 241.12 232 L 248.12 228.5 L 248.12 235.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 222px; margin-left: 274px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><div>generate_shamir</div><div>_shards(key)</div></div></div></div></foreignObject><text x="274" y="226" fill="#000000" font-family="Helvetica" font-size="11px">generate_shamir...</text></switch></g><path d="M 230 200 L 128.12 199.07" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 121.12 199.01 L 128.15 195.57 L 128.09 202.57 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 197px; margin-left: 175px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; "><div>store_file</div><div>(encrypted_file)</div></div></div></div></foreignObject><text x="175" y="197" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">store_file...</text></switch></g><ellipse cx="60" cy="199" rx="60" ry="41" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 199px; margin-left: 1px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">(Local) Storage</div></div></div></foreignObject><text x="60" y="203" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">(Local) Storage</text></switch></g><path d="M 115.68 213.35 L 180 213.91 Q 190 214 200 214 L 227.76 214" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 219.88 218.5 L 228.88 214 L 219.88 209.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 211px; margin-left: 172px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">file_path</div></div></div></foreignObject><text x="172" y="211" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">file_path</text></switch></g><path d="M 240 126 L 270 126 L 270 148 L 248.12 148" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 241.12 148 L 248.12 144.5 L 248.12 151.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 138px; margin-left: 274px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">generate_key()</div></div></div></foreignObject><text x="274" y="142" fill="#000000" font-family="Helvetica" font-size="11px">generate_key()</text></switch></g><path d="M 1100.5 21 L 1100.5 11 L 1170.5 11 L 1170.5 0.5 L 1189.5 16 L 1170.5 31.5 L 1170.5 21 Z" fill="none" stroke="#000000" stroke-linejoin="round" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 26px; margin-left: 1130px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">untrusted side</div></div></div></foreignObject><text x="1130" y="30" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">untrusted side</text></switch></g><path d="M 1250 1036 L 1250 6" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><rect x="1100" y="56" width="100" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 1150 96 L 1150 996" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 76px; margin-left: 1101px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">worker</div></div></div></foreignObject><text x="1150" y="80" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">worker</text></switch></g><path d="M 240 276 L 1316.88 276" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1323.88 276 L 1316.88 279.5 L 1316.88 272.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 273px; margin-left: 310px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; "><div>extrinsic::</div><div>nft create(file_path)<br /></div></div></div></div></foreignObject><text x="310" y="273" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">extrinsic::...</text></switch></g><path d="M 1325 364 L 242.24 364" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 250.12 359.5 L 241.12 364 L 250.12 368.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 361px; margin-left: 320px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">nftId (u32)</div></div></div></foreignObject><text x="320" y="361" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">nftId (u32)</text></switch></g><path d="M 1325 351 L 1163.12 351" fill="none" stroke="#999999" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1156.12 351 L 1163.12 347.5 L 1163.12 354.5 Z" fill="#999999" stroke="#999999" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 348px; margin-left: 1233px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><font color="#B3B3B3"><span style="background-color: rgb(255 , 255 , 255)">Event::NFT::Created</span></font></div></div></div></foreignObject><text x="1233" y="348" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">Event::NFT::Created</text></switch></g><rect x="1145" y="116" width="10" height="870" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 1145 411 L 1023.12 411" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1016.12 411 L 1023.12 407.5 L 1023.12 414.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 408px; margin-left: 1075px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><div><span style="background-color: rgb(255 , 255 , 255)">sync_chain_relay</span></div><div><span style="background-color: rgb(255 , 255 , 255)">(blocks)</span></div></div></div></div></foreignObject><text x="1075" y="408" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">sync_chain_relay...</text></switch></g><rect x="1005" y="406" width="10" height="360" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 1325 395.66 L 1163.12 395.66" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1156.12 395.66 L 1163.12 392.16 L 1163.12 399.16 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 393px; margin-left: 1233px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span style="background-color: rgb(255 , 255 , 255)">Event::NewBlock</span></div></div></div></foreignObject><text x="1233" y="393" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">Event::NewBlock</text></switch></g><path d="M 1015 486 L 1040 486 L 1040 506 L 1023.12 506" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1016.12 506 L 1023.12 502.5 L 1023.12 509.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 496px; margin-left: 1044px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; "><div>scan_block_</div><div>for_relevant_xt</div></div></div></div></foreignObject><text x="1044" y="499" fill="#000000" font-family="Helvetica" font-size="11px">scan_block_...</text></switch></g><path d="M 1015 446 L 1040 446 L 1040 466 L 1023.12 466" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1016.12 466 L 1023.12 462.5 L 1023.12 469.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 456px; margin-left: 1044px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">submit_<br />simple_header</div></div></div></foreignObject><text x="1044" y="459" fill="#000000" font-family="Helvetica" font-size="11px">submit_...</text></switch></g><path d="M 1005 536 L 903.12 536" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 896.12 536 L 903.12 532.5 L 903.12 539.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 533px; margin-left: 946px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><div><span style="background-color: rgb(255 , 255 , 255)">update_nft_</span></div><div><span style="background-color: rgb(255 , 255 , 255)">registry</span></div><div><span style="background-color: rgb(255 , 255 , 255)">(nft_extrinsic,</span></div><div><span style="background-color: rgb(255 , 255 , 255)">synced_block_nr</span>)<br /></div></div></div></div></foreignObject><text x="946" y="533" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">update_nft_...</text></switch></g><path d="M 885 626 L 783.12 626" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 776.12 626 L 783.12 622.5 L 783.12 629.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 623px; margin-left: 826px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">seal<br /><div>(encode(nft_registry),</div><div>NFT_REGISTRY</div><div>_PATH)</div></div></div></div></foreignObject><text x="826" y="623" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">seal...</text></switch></g><path d="M 515 436 L 540 436 L 540 456 L 523.12 456" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 516.12 456 L 523.12 452.5 L 523.12 459.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 446px; margin-left: 544px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; "><div>handle_request</div><div>_sync(json_req)<br /></div></div></div></div></foreignObject><text x="544" y="449" fill="#000000" font-family="Helvetica" font-size="11px">handle_request...</text></switch></g><path d="M 515 476 L 540 476 L 540 496 L 523.12 496" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 516.12 496 L 523.12 492.5 L 523.12 499.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 486px; margin-left: 544px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; "><div>decrypt</div><div>(TrustedOperation)</div></div></div></div></foreignObject><text x="544" y="489" fill="#000000" font-family="Helvetica" font-size="11px">decrypt...</text></switch></g><path d="M 240 421 L 360.88 421" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 367.88 421 L 360.88 424.5 L 360.88 417.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 418px; margin-left: 304px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; "><div>direct call::provision::</div><div>TrustedOperation</div><div>(nftid, shamir_shards)</div></div></div></div></foreignObject><text x="304" y="418" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">direct call::provision::...</text></switch></g><path d="M 379 426 L 496.88 426" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 503.88 426 L 496.88 429.5 L 496.88 422.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 423px; margin-left: 442px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; "><div>JsonString{</div><div>Provision,<br /></div><div>Encoded</div><div>(TrustedOperation)}</div></div></div></div></foreignObject><text x="442" y="423" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">JsonString{...</text></switch></g><path d="M 515 536 L 626.88 536" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 633.88 536 L 626.88 539.5 L 626.88 532.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 533px; margin-left: 575px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; "><div>provision</div><div>(nftid, shamir_shards)</div></div></div></div></foreignObject><text x="575" y="533" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">provision...</text></switch></g><rect x="735" y="626" width="10" height="50" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 740 576 L 769.5 576" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 645 636 L 726.88 636" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 733.88 636 L 726.88 639.5 L 726.88 632.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 633px; margin-left: 690px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; "><div>seal</div><div>(bytes,</div><div>SHAMIR</div><div>_REGISTRY<br />_PATH + nftid<br /></div></div></div></div></foreignObject><text x="690" y="633" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">seal...</text></switch></g><path d="M 735 671 L 647.24 671" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 655.12 666.5 L 646.12 671 L 655.12 675.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 668px; margin-left: 690px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">Ok(())</div></div></div></foreignObject><text x="690" y="668" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">Ok(())</text></switch></g><path d="M 635 681 L 517.24 681" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 525.12 676.5 L 516.12 681 L 525.12 685.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 678px; margin-left: 575px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">Ok(())</div></div></div></foreignObject><text x="575" y="678" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">Ok(())</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>